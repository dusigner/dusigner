<!DOCTYPE html>
<html lang="pt-BR" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Web Designer Freelancer - Eduardo Soares</title>
		<meta name="description" content="A ciatividade requer coragem, máquinas pensantes, estratégias para sua loja ficar online" />
		<meta name="keywords" content="web designer, e-commerce, lojas, lojas virtuais, web sites, css, javascript" />
		<meta name="author" content="Dusigner" />
		<link rel="shortcut icon" href="favicon.ico">
		<link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<link rel="stylesheet" type="text/css" href="pater/pater.css" />
		<script>document.documentElement.className = 'js';</script>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-31100136-4"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());
		
		  gtag('config', 'UA-31100136-4');
		</script>
		
	</head>
	<body class="demo-1 loading">
		<main>
			<div class="slices"></div>
			<div class="slides">
				<div class="slide grid slide--current" id="slide-1" data-image-even='img/1_1.jpg' data-image-odd='img/1_2.jpg'>
					<div class="grid__item">Freelancer</div>
					<div class="grid__item grid__item--deco-1">Empodere-se com criatividade</div>
					<div class="grid__item">Web</div>
					<div class="grid__item">Dev</div>
				</div>
				<div class="slide grid" id="slide-2" data-image-even='img/2_1.jpg' data-image-odd='img/2_2.jpg'>
					<div class="grid__item">Lojas Virtuais</div>
					<div class="grid__item grid__item--deco-1">Estratégias para sua loja ficar online</div>
					<div class="grid__item">Design</div>
					<div class="grid__item">Arts</div>
				</div>
				<div class="slide grid" id="slide-3" data-image-even='img/3_1.jpg' data-image-odd='img/3_2.jpg'>
					<div class="grid__item">Design</div>
					<div class="grid__item grid__item--deco-1">Criatividade com máquinas</div>
					<div class="grid__item">SEO</div>
					<div class="grid__item">Cloud</div>
				</div>
				<nav class="slides__nav">
					<a href="#slide-1" class="slides__nav-item slides__nav-item--current">Eduardo Soares</a>
					<a href="#slide-2" class="slides__nav-item">E-commerce</a>
					<a href="#slide-3" class="slides__nav-item">Web</a>
				</nav>
				<div class="date">+55 11 97693-0259</div>
			</div>
		</main>
		<script src="js/charming.min.js"></script>
		<script src="js/anime.min.js"></script>
		<script src="js/imagesloaded.pkgd.min.js"></script>
		<script src="js/demo.js"></script>
		<script src="js/glitchFx.js"></script>
		<script src="js/dil.js"></script>
		<script>
		{
			const slidesItems = Array.from(document.querySelectorAll('.slides > .slide'));
			const imgs = {even:[],odd:[]};
			slidesItems.forEach((item) => {
				imgs.even.push(item.dataset.imageEven);
				imgs.odd.push(item.dataset.imageOdd);
			});

			const dil = new DualImageLayout(document.querySelector('.slices'), {
				images: {even: imgs.even[0],odd: imgs.odd[0]},
				slices: 179,
				orientation: 'horizontal'
			});

			imagesLoaded(document.body, { background: true }, () => {
               	document.body.classList.remove('loading');	
				animateGridItems();
            });

			let isAnimating = true;
			let currentSlide = 0;
			const slidesNavItems = Array.from(document.querySelectorAll('.slides__nav > .slides__nav-item'));
			const changeLocation = (ev,pos) => {
				ev.preventDefault();
				if ( pos === currentSlide || isAnimating ) {
					return false;
				}

				ev.target.classList.add('slides__nav-item--current');
				slidesNavItems[currentSlide].classList.remove('slides__nav-item--current');
				
				animateGridItems(currentSlide,pos);
				currentSlide = pos;
				dil.switchImages(imgs.even[currentSlide],imgs.odd[currentSlide],true);
			};
			slidesNavItems.forEach((item, pos) => item.addEventListener('click', (ev) => changeLocation(ev,pos)));

			const gridItemsLetters = [];
			slidesItems.forEach((item) => {
				Array.from(item.querySelectorAll('.grid__item')).forEach((gridItem) => charming(gridItem));
				gridItemsLetters.push(Array.from(item.querySelectorAll('span')));
			});

			const animateGridItems = (currentSlide = -1, pos = 0) => {
				isAnimating = true;
				const newLettersFn = () => {
					const promises = [];
					for (lettersGroup of gridItemsLetters[pos]) {
						promises.push(anime({
							targets: lettersGroup,
							duration: 10,
							easing: 'linear',
							delay: (t,i) => anime.random(200,1000),
							opacity: [0,1],
							before: () => lettersGroup.style.opacity = 0
						}).finished);
					}
					Promise.all(promises).then(()=> isAnimating = false);
				};

				if ( currentSlide !== -1 ) {
					const promises = [];
					for (lettersGroup of gridItemsLetters[currentSlide]) {
						promises.push(anime({
							targets: lettersGroup,
							duration: 10,
							easing: 'linear',
							delay: (t,i) => anime.random(200,1000),
							opacity: 0,
							before: () => lettersGroup.style.opacity = 1
						}).finished);
					}
					Promise.all(promises).then(()=> newLettersFn());
				}
				else {
					newLettersFn();
				}
			};

			const glitchText = document.querySelector('.date');
			charming(glitchText);
			Array.from(glitchText.querySelectorAll('span')).forEach(letter => {
				letter.style.opacity = 1;
				new GlitchFx(letter).glitch();
			});
			
			// Demo purposes only..
			new GlitchFx(document.querySelector('.pater > .pater__img'), {
				// Max and Min values for the time when to start the effect.
                glitchStart: {min: 1000, max: 5000},
                // Max and Min values of time that an element keeps each state.
                glitchState: {min: 50, max: 100},
                // Number of times the glitch action is performed per iteration.
				glitchTotalIterations: 3
			}).glitch();
		}
		</script>
	</body>
</html>
